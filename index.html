<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Project Loci</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
   <!-- top navigation bar -->
    <div class="project-header"><a href="index.html">Project Loci</a></div>
    <div class="topnav">
     <a href="about.html">About</a>
     <!--<a href="guide.html">How It Works</a>-->
    </div>
   
    <!-- google street view -->
    <div id="street-view"></div>
    
    <!-- load source files into div elements -->
    <audio id="myAudio" src="/asset/sounds/dialogue.m4a" type="audio"></audio>
        
    <div id="art-sample" class="toggle-art"><img src="/asset/artwork/IMG_4327.JPG" height="75%"></img></div>
    
    <div id="smellbar">Fries, Dried Fish, Coal</div>
    
    <!-- toggle buttons for ambient experience -->
    <div id="loci-buttons">
        <button class="sound-btn" onClick="togglePlay()" type="button"></button>   
        
        <button class="art-btn" onClick="displayArt()" type="button">
        </button>   
        
        <button class="smell-btn" onClick="popSmells()" type="button"></button>
    </div>
    
    <!-- javascript source files -->
    <script>
        var panorama;
        function initialize() {
          //.4816806,3.3780323
          //var place_loc = {lat: 6.5294059, lng: 3.3929774};
          var place_loc = {lat: 6.4816806, lng: 3.3780323};

          // Set up the map
          var map = new google.maps.Map(document.getElementById('street-view'), {
            center: place_loc,
            zoom: 18,
            streetViewControl: false
          });

          /* Set up markers on the map
          var artMarker = new google.maps.Marker({
            position: {lat: 6.5294059, lng: 3.3929992},
            map: map,
            icon: 'https://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=dollar|FFFF00',
            title: 'Local Art'
        });
          var cityCircle = new google.maps.Circle({
            strokeColor: '#FF0000',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.35,
            map: map,
            center: place_loc,
            radius: 10
          });*/

        panorama = new google.maps.StreetViewPanorama(
            document.getElementById('street-view'),
            {
              position: place_loc,
              pov: {heading: 100, pitch: 10},
              zoom: 1
            });
        }
        
        // Toggle Sounds
        var x = document.getElementById("myAudio");

        function togglePlay() {
            return myAudio.paused ? myAudio.play() : myAudio.pause();
        };

        // Toggle Art
        function displayArt() {
            var art = document.getElementById("art-sample");
            //show
            if (art.style.display === "none") {
                art.style.display = "block";
            } else {
                art.style.display = "none";
            }
        }

        // Toggle Smell Tags
        var isShowing=false;
        function popSmells(){
            var smells = document.getElementById("smellbar");
            if (isShowing){
                smells.className = "";    
                isShowing=false;
            } else{
                smells.className = "show";
                isShowing=true;
            }
        }
    </script>
    <script async defer
         src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAsB_n6wdD24K7g16nc3_kRqm2EzspoVKk&callback=initialize">
    </script>
  
  </body>
</html>